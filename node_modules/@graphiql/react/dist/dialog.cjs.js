"use strict";var h=Object.defineProperty;var d=(g,m)=>h(g,"name",{value:m,configurable:!0});var E=require("./codemirror.cjs.js");function O(g,m){return m.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(c){if(c!=="default"&&!(c in g)){var v=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(g,c,v.get?v:{enumerable:!0,get:function(){return e[c]}})}})}),Object.freeze(g)}d(O,"_mergeNamespaces");var y={exports:{}};(function(g,m){(function(e){e(E.codemirror$1.exports)})(function(e){function c(f,l,n){var o=f.getWrapperElement(),i;return i=o.appendChild(document.createElement("div")),n?i.className="CodeMirror-dialog CodeMirror-dialog-bottom":i.className="CodeMirror-dialog CodeMirror-dialog-top",typeof l=="string"?i.innerHTML=l:i.appendChild(l),e.addClass(o,"dialog-opened"),i}d(c,"dialogDiv");function v(f,l){f.state.currentNotificationClose&&f.state.currentNotificationClose(),f.state.currentNotificationClose=l}d(v,"closeNotification"),e.defineExtension("openDialog",function(f,l,n){n||(n={}),v(this,null);var o=c(this,f,n.bottom),i=!1,r=this;function u(t){if(typeof t=="string")a.value=t;else{if(i)return;i=!0,e.rmClass(o.parentNode,"dialog-opened"),o.parentNode.removeChild(o),r.focus(),n.onClose&&n.onClose(o)}}d(u,"close");var a=o.getElementsByTagName("input")[0],s;return a?(a.focus(),n.value&&(a.value=n.value,n.selectValueOnOpen!==!1&&a.select()),n.onInput&&e.on(a,"input",function(t){n.onInput(t,a.value,u)}),n.onKeyUp&&e.on(a,"keyup",function(t){n.onKeyUp(t,a.value,u)}),e.on(a,"keydown",function(t){n&&n.onKeyDown&&n.onKeyDown(t,a.value,u)||((t.keyCode==27||n.closeOnEnter!==!1&&t.keyCode==13)&&(a.blur(),e.e_stop(t),u()),t.keyCode==13&&l(a.value,t))}),n.closeOnBlur!==!1&&e.on(o,"focusout",function(t){t.relatedTarget!==null&&u()})):(s=o.getElementsByTagName("button")[0])&&(e.on(s,"click",function(){u(),r.focus()}),n.closeOnBlur!==!1&&e.on(s,"blur",u),s.focus()),u}),e.defineExtension("openConfirm",function(f,l,n){v(this,null);var o=c(this,f,n&&n.bottom),i=o.getElementsByTagName("button"),r=!1,u=this,a=1;function s(){r||(r=!0,e.rmClass(o.parentNode,"dialog-opened"),o.parentNode.removeChild(o),u.focus())}d(s,"close"),i[0].focus();for(var t=0;t<i.length;++t){var p=i[t];(function(N){e.on(p,"click",function(b){e.e_preventDefault(b),s(),N&&N(u)})})(l[t]),e.on(p,"blur",function(){--a,setTimeout(function(){a<=0&&s()},200)}),e.on(p,"focus",function(){++a})}}),e.defineExtension("openNotification",function(f,l){v(this,u);var n=c(this,f,l&&l.bottom),o=!1,i,r=l&&typeof l.duration!="undefined"?l.duration:5e3;function u(){o||(o=!0,clearTimeout(i),e.rmClass(n.parentNode,"dialog-opened"),n.parentNode.removeChild(n))}return d(u,"close"),e.on(n,"click",function(a){e.e_preventDefault(a),u()}),r&&(i=setTimeout(u,r)),u})})})();var T=y.exports,x=Object.freeze(O({__proto__:null,[Symbol.toStringTag]:"Module",default:T},[y.exports]));exports.dialog=x;exports.dialog$1=y;
